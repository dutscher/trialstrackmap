{{#extend "default"}}
    {{#content "htmlCtrl"}}data-with="worldrecords"{{/content}}
    {{#content "title-override"}}true{{/content}}
    {{#content "title" mode="prepend"}}
        Temple of the legends -
    {{/content}}

    {{#content "styles" mode="prepend"}}
        <link rel="stylesheet" type="text/css" href="/dist/css/table.css{{cacheBuster}}"/>
    {{/content}}

    {{#content "ctrl"}}ng-controller="trackData"{{/content}}

    {{#content "body"}}
        {{#with map}}
            <div ng-controller="wrTemple">
                <div ng-init="pageReady = false" ng-hide="pageReady" class="loader spin"></div>
                <div class="page-body is-loading" data-finished="pageReady">

                    {{> table-navigation-worldrecords}}

                    <div ng-if="selectedView === 'separated'" class="box no-pad flex" sticky-thead="w50">
                        <table class="w50">
                            <thead>
                                <tr>
                                    <th class="rider-name" colspan="2" rowspan="2" width="60"></th>
                                    <th class="rider-name" width="150">
                                        {%'page.worldRecordsTable.headRider'|translate%}
                                    </th>
                                    <th colspan="3" class="rider-name">
                                        <i class="device-android"></i>
                                        Android
                                    </th>
                                </tr>
                                <tr>
                                    <th class="rider-name" width="150">
                                        {% allRiderSeparated.android.length %}
                                    </th>
                                    <th table-sorter="android|normal"><i class="global"></i></th>
                                    <th table-sorter="android|donkey"><i class="donkey"></i></th>
                                    <th table-sorter="android|crazy"><i class="crazy"></i></th>
                                </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="rider in allRiderSeparated.android">
                                <td class="center rider-name low-letter-space">
                                    {%::$index+1|leadingZero%}.
                                </td>
                                <td class="rider-name" title="{%::rider.country|convertCountry%}">
                                    <i ng-if="rider.country !== ''" class="country country--{% ::rider.country %} beside-name no-margin"></i>
                                </td>
                                <td class="center rider-name low-letter-space" ng-bind-html="::rider.riderName"></td>
                                <td class="center" show-amount="rider" os="android" type="normal"></td>
                                <td class="center" show-amount="rider" os="android" type="donkey"></td>
                                <td class="center" show-amount="rider" os="android" type="crazy"></td>
                            </tr>
                            </tbody>
                        </table>
                        <table class="w50">
                            <thead>
                            <tr>
                                <th class="rider-name" colspan="2" rowspan="2" width="60"></th>
                                <th class="rider-name" width="150">
                                    {%'page.worldRecordsTable.headRider'|translate%}
                                </th>
                                <th colspan="3" class="rider-name">
                                    <i class="device-ios"></i>
                                    iOS
                                </th>
                            </tr>
                            <tr>
                                <th class="rider-name" width="150">
                                    {% allRiderSeparated.ios.length %}
                                </th>
                                <th table-sorter="ios|normal"><i class="global"></i></th>
                                <th table-sorter="ios|donkey"><i class="donkey"></i></th>
                                <th table-sorter="ios|crazy"><i class="crazy"></i></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="rider in allRiderSeparated.ios">
                                <td class="center rider-name low-letter-space">{%::$index+1|leadingZero%}.</td>
                                <td class="rider-name" title="{%::rider.country|convertCountry%}">
                                    <i ng-if="rider.country" class="country country--{% ::rider.country %} beside-name no-margin"></i>
                                </td>
                                <td class="center rider-name low-letter-space" ng-bind-html="::rider.riderName"></td>
                                <td class="center" show-amount="rider" os="ios" type="normal"></td>
                                <td class="center" show-amount="rider" os="ios" type="donkey"></td>
                                <td class="center" show-amount="rider" os="ios" type="crazy"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div ng-if="selectedView === 'combined'" class="box no-pad flex">
                        <table style="margin-right:16px;">
                            <tr><td colspan="4">Total</td></tr>
                            <tr ng-repeat="rider in allRiderCombined.total">
                                <td class="center rider-name low-letter-space">{%::$index+1|leadingZero%}.</td>
                                <td class="rider-name" title="{%::rider.country|convertCountry%}">
                                    <i ng-if="rider.country" class="country country--{% ::rider.country %} beside-name no-margin"></i>
                                </td>
                                <td class="center rider-name low-letter-space" ng-bind-html="::rider.riderName"></td>
                                <td class="center">{%::rider.amount%}</td>
                            </tr>
                        </table>
                        <table style="margin-right:16px;">
                            <tr><td colspan="4">Countries</td></tr>
                            <tr ng-repeat="rider in allRiderCombined.countries">
                                <td class="center rider-name low-letter-space">{%::$index+1|leadingZero%}.</td>
                                <td class="rider-name" title="{%::rider.country|convertCountry%}">
                                    <i ng-if="rider.country" class="country country--{% ::rider.country %} beside-name no-margin"></i>
                                </td>
                                <td class="center">{%::rider.amount%}</td>
                            </tr>
                        </table>
                        <table style="margin-right:16px;">
                            <tr><td colspan="4"><i class="global"></i> Normal</td></tr>
                            <tr ng-repeat="rider in allRiderCombined.normal">
                                <td class="center rider-name low-letter-space">{%::$index+1|leadingZero%}.</td>
                                <td class="rider-name" title="{%::rider.country|convertCountry%}">
                                    <i ng-if="rider.country" class="country country--{% ::rider.country %} beside-name no-margin"></i>
                                </td>
                                <td class="center rider-name low-letter-space" ng-bind-html="::rider.riderName"></td>
                                <td class="center">{%::rider.amount%}</td>
                            </tr>
                        </table>
                        <table style="margin-right:16px;">
                            <tr><td colspan="4"><i class="donkey"></i> Donkey</td></tr>
                            <tr ng-repeat="rider in allRiderCombined.donkey">
                                <td class="center rider-name low-letter-space">{%::$index+1|leadingZero%}.</td>
                                <td class="rider-name" title="{%::rider.country|convertCountry%}">
                                    <i ng-if="rider.country" class="country country--{% ::rider.country %} beside-name no-margin"></i>
                                </td>
                                <td class="center rider-name low-letter-space" ng-bind-html="::rider.riderName"></td>
                                <td class="center">{%::rider.amount%}</td>
                            </tr>
                        </table>
                        <table>
                            <tr><td colspan="4"><i class="crazy"></i> Crazy</td></tr>
                            <tr ng-repeat="rider in allRiderCombined.crazy">
                                <td class="center rider-name low-letter-space">{%::$index+1|leadingZero%}.</td>
                                <td class="rider-name" title="{%::rider.country|convertCountry%}">
                                    <i ng-if="rider.country" class="country country--{% ::rider.country %} beside-name no-margin"></i>
                                </td>
                                <td class="center rider-name low-letter-space" ng-bind-html="::rider.riderName"></td>
                                <td class="center">{%::rider.amount%}</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        {{/with}}
    {{/content}}
{{/extend}}